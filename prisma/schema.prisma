generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id Int @id @default(autoincrement())

  email String  @unique
  name  String?

  posts Post[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users")
}

model Post {
  id Int @id @default(autoincrement())

  title     String
  content   String?
  published Boolean @default(false)

  authorId Int
  author   User @relation(fields: [authorId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("posts")
}

model Brand {
  id Int @id @default(autoincrement())

  name     String  @unique
  brandImg String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  series Series[]

  @@map("brands")
}

model Series {
  id Int @id @default(autoincrement())

  name    String @unique
  brandId Int

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  brand Brand @relation(fields: [brandId], references: [id], onDelete: Cascade)

  products Product[]

  @@map("series")
}

model Product {
  id Int @id @default(autoincrement())

  name           String  @unique
  productImg     String?
  seriesId       Int
  productColorId Int

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  series Series @relation(fields: [seriesId], references: [id], onDelete: Cascade)

  @@map("products")
}

model ProductColor {
  id Int @id @default(autoincrement())

  name String

  createdAt DateTime @default(now())
  updatadAt DateTime @updatedAt

  // TODO: ????????
  // products Product[]

  @@map("product_colors")
}
